{% extends 'email_layout.html' %}

{% block title %}
Update Regarding Your Sales Booking for {% if motorcycle.title %}{{ motorcycle.title }}{% else %}(motorcycle title missing){% endif %}
{% endblock %}

{% block header_title %}
Sales Booking Declined
{% endblock %}

{% block content %}
<p style="font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; margin-bottom: 24px;">Hi {% if sales_profile.name %}{{ sales_profile.name }}{% else %}Customer{% endif %},</p>
<p style="font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; margin-bottom: 24px;">We regret to inform you that your sales booking for the <strong>{% if motorcycle.title %}{{ motorcycle.title }}{% else %}(motorcycle title missing){% endif %}</strong> (Reference: <strong>{% if booking.sales_booking_reference %}{{ booking.sales_booking_reference }}{% else %}(missing){% endif %}</strong>) has been declined by our administration team.</p>

{% if admin_message %}
<p style="font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; margin-bottom: 16px; font-weight: bold;">Message from our Team:</p>
<p style="font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; margin-bottom: 24px; white-space: pre-wrap;">{{ admin_message }}</p>
{% endif %}

<p style="font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; margin-bottom: 16px;">Your Booking Details:</p>
<table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" role="presentation" style="margin-top: 20px; margin-bottom: 20px;">
    <tr>
        <td>
            <table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 540px; border-radius: 8px; background-color: #374151;">
                <tr>
                    <td style="padding: 20px;">
                        <table border="0" cellpadding="0" cellspacing="0" width="100%" role="presentation">
                            <tr>
                                <td width="40%" style="padding: 10px 10px 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; font-weight: bold;">Booking Reference:</td>
                                <td width="60%" style="padding: 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #F9FAFB;"><strong>{% if booking.sales_booking_reference %}{{ booking.sales_booking_reference }}{% else %}(missing){% endif %}</strong></td>
                            </tr>
                            <tr>
                                <td style="padding: 10px 10px 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; font-weight: bold;">Motorcycle:</td>
                                <td style="padding: 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #F9FAFB;">{% if motorcycle.year %}{{ motorcycle.year }}{% endif %} {% if motorcycle.brand %}{{ motorcycle.brand }}{% endif %} {% if motorcycle.model %}{{ motorcycle.model }}{% endif %}</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px 10px 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; font-weight: bold;">Final Status:</td>
                                <td style="padding: 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #F9FAFB;"><strong style="color: #F87171;">{% if booking.get_booking_status_display %}{{ booking.get_booking_status_display }}{% else %}(missing){% endif %}</strong></td>
                            </tr>
                            {% if booking.amount_paid > 0 %}
                            <tr>
                                <td style="padding: 10px 10px 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; font-weight: bold;">Amount Paid:</td>
                                <td style="padding: 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #F9FAFB;">{{ booking.amount_paid|floatformat:2 }} {% if booking.currency %}{{ booking.currency }}{% else %}AUD{% endif %}</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px 10px 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; font-weight: bold;">Payment Status:</td>
                                <td style="padding: 10px 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #F9FAFB;">{% if booking.get_payment_status_display %}{{ booking.get_payment_status_display }}{% else %}(missing){% endif %}</td>
                            </tr>
                            {% endif %}
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<p style="font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB; margin-top: 24px;">If you have any questions or would like to discuss alternative options, please do not hesitate to contact us.</p>
<p style="font-family: Arial, sans-serif; font-size: 16px; line-height: 24px; color: #D1D5DB;">Sincerely,<br>The Allbikes and Vespa Warehouse Team</p>
{% endblock %}
